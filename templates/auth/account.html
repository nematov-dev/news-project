{% extends 'layouts/base.html' %}
{% load static %}
{% block title %}Mening hisobim{% endblock %}
{% block content %}
    {% if user.is_authenticated %}
        <header>
            <style>
                /* General Dashboard Styles */
                .user-info-container {
                    display: flex;
                    align-items: center;
                    gap: 20px; /* Rasm va ma'lumotlar orasidagi masofa */
                }

                .profile-pic img {
                    width: 120px;  /* Profil rasmi o‘lchami */
                    height: 120px;
                    border-radius: 50%; /* Aylana shakl */
                    object-fit: cover; /* Rasmlarni to‘g‘ri sig‘dirish */
                    border: 3px solid #e74c3c; /* Och qizil border */
                }

                .user-details {
                    flex-grow: 1;
                }

                .user-details ul {
                    list-style: none;
                    padding: 0;
                }

                .user-details li {
                    margin-bottom: 8px;
                }

                .dashboard-area {
                    padding-top: 50px;
                    
                }

                .dashboard-sidebar {
                    background-color: #f9f9f9;
                    padding: 20px;
                    border-radius: 40px;
                    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                    margin-bottom: 100px;
                }

                .dashboard-title h4 {
                    font-size: 18px;
                    margin-bottom: 20px;
                    font-weight: bold;
                }

                .dashboard-menu {
                    list-style-type: none;
                    padding: 0;
                }

                .dashboard-menu li {
                    margin: 10px 0;
                }

                .dashboard-menu li a {
                    font-size: 16px;
                    color: #333;
                    text-decoration: none;
                }

                .dashboard-menu li a:hover {
                    color: #007bff;
                }

                /* Dashboard Content */
                .dashboard-content {
                    background-color: #fff;
                    padding: 20px;
                    border-radius: 8px;
                    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                }

                .dashboard-content h4 {
                    font-size: 22px;
                    margin-bottom: 20px;
                    font-weight: bold;
                }

                .user-info ul {
                    list-style-type: none;
                    padding: 0;
                    font-size: 16px;
                }

                .user-info li {
                    margin: 5px 0;
                }

                /* Recent Activity Section */
                .recent-activity ul {
                    list-style-type: none;
                    padding: 0;
                    font-size: 16px;
                }

                .recent-activity li {
                    margin: 5px 0;
                }
                .account-page {
                        margin-bottom: 100px; /* Pastdan bo‘sh joy qoldiradi */
                    }


                /* Mobile Responsiveness */
                @media (max-width: 767px) {
                    .dashboard-area {
                    padding-top: 50px;
                    
                    
                }
                    .dashboard-sidebar {
                        margin-bottom: 50px;
                        
                    }

                    .dashboard-content {
                        padding: 15px;
                    }

                    .dashboard-menu li a {
                        font-size: 14px;
                    }
                    footer {
                        margin-top: 50px; /* Footerni kontentdan ajratish */
                    }
                }
            </style>
        </header>

        <!-- Account Dashboard Start -->
        <div class="dashboard-area">
            <div class="container account-page">
                <div class="row">
                    <div class="col-xl-3 col-lg-3 col-md-4">
                        <!-- Sidebar -->
                        <div class="dashboard-sidebar">
                            <div class="dashboard-title">
                                <h4>Sizning hisobingiz</h4>
                            </div>
                            <ul class="dashboard-menu">
                                <li><a href="">Profil</a></li>
                                <li><a href="{% url 'users:profile-edit' %}">Profilni tahrirlash</a></li>
                                <li><a href="{% url 'users:change-password' %}">Parolni o‘zgartirish</a></li>
                                <li><a href="{% url 'users:logout' %}">Chiqish</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-xl-9 col-lg-9 col-md-8">
                        <!-- Dashboard Content -->
                        <div class="dashboard-content">
                            <div class="dashboard-title">
                                <h4>Xush kelibsiz, {{ user.username }}!</h4>
                            </div>

                            <!-- User Info -->
                            <div class="user-info-container">
                                <!-- Profil rasmi -->
                                <div class="profile-pic">
                                    <img src="{{ request.user.profile.image.url }}" alt="Profil rasmi">
                                </div>
                                
                                <!-- Shaxsiy ma'lumotlar -->
                                <div class="user-details">
                                    
                                    <ul>
                                        <li><strong>Foydalanuvchi nomi:</strong> {{ user.username }}</li>
                                        <li><strong>Ism:</strong> {{ user.first_name }}</li>
                                        <li><strong>Familya:</strong> {{ user.last_name }}</li>
                                        <li><strong>Email:</strong> {{ user.email }}</li>
                                        <li><strong>Ro‘yxatdan o‘tgan vaqt:</strong> {{ user.date_joined }}</li>
                                    </ul>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Account Dashboard End -->
    {% else %}
        <div class="alert alert-warning">
            Siz tizimga kirishingiz kerak!
        </div>
    {% endif %}
{% endblock %}
